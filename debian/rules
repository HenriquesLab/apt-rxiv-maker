#!/usr/bin/make -f

# See debhelper(7) (uncomment to enable)
# output every command that modifies files on the build system.
export DH_VERBOSE = 1

# See FEATURE AREAS in dpkg-buildflags(1)
export DEB_BUILD_MAINT_OPTIONS = hardening=+all

# See ENVIRONMENT in dpkg-buildflags(1)
# Package maintainers to append CFLAGS
export DEB_CFLAGS_MAINT_APPEND  = -Wall -pedantic
# Package maintainers to append LDFLAGS
export DEB_LDFLAGS_MAINT_APPEND = -Wl,--as-needed

%:
	dh $@

override_dh_auto_configure:
	# No Python source to configure - using virtual environment approach
	@echo "No configuration needed - virtual environment approach"

override_dh_auto_build:
	# No Python source to build - using virtual environment approach
	@echo "No build needed - virtual environment approach"

override_dh_auto_install:
	# No Python source to install - wrapper scripts created in postinst
	@echo "No installation needed - wrapper scripts created in postinst"

override_dh_installdocs:
	dh_installdocs
	# Create documentation directory structure
	mkdir -p debian/rxiv-maker/usr/share/doc/rxiv-maker
	# Copy main documentation files if they exist
	if [ -f README.md ]; then cp README.md debian/rxiv-maker/usr/share/doc/rxiv-maker/; fi
	if [ -f CHANGELOG.md ]; then cp CHANGELOG.md debian/rxiv-maker/usr/share/doc/rxiv-maker/; fi
	if [ -f LICENSE ]; then cp LICENSE debian/rxiv-maker/usr/share/doc/rxiv-maker/; fi

override_dh_auto_test:
	# No tests to run - using virtual environment approach
	@echo "No tests to run - virtual environment approach"
